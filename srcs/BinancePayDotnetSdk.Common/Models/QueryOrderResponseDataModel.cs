using System;
using System.Text.Json.Serialization;
using BinancePayDotnetSdk.Common.Converters;
using BinancePayDotnetSdk.Common.Enums;

namespace BinancePayDotnetSdk.Common.Models
{
    /// <summary>
    /// https://developers.binance.com/docs/binance-pay/api-order-query#ayerinfo-data
    /// </summary>
    public class QueryOrderResponseDataModel
    {
        /// <summary>
        /// The merchant account id, issued when merchant been created at Binance.
        /// </summary>
        [JsonPropertyName("merchantId")]
        public long MerchantId { get; init; }
        /// <summary>
        /// unique id generated by binance
        /// </summary>
        [JsonPropertyName("prepayId")]
        public string PrepayId { get; set; }
        /// <summary>
        /// issued once the payment is successful
        /// </summary>
        [JsonPropertyName("transactionId")]
        public string TransactionId { get; set; }
        /// <summary>
        /// The order id, Unique identifier for the request
        /// </summary>
        [JsonPropertyName("merchantTradeNo")]
        public string MerchantTradeNo { get; init; }
        /// <summary>
        /// operate entrance
        /// </summary>
        [JsonPropertyName("tradeType")]
        [JsonConverter(typeof(JsonStringEnumConverter))]
        public TradeType TradeType { get; set; }
        /// <summary>
        /// order status
        /// </summary>
        [JsonPropertyName("status")]
        [JsonConverter(typeof(JsonStringEnumConverter))]
        public OrderStatus Status { get; set; }
        /// <summary>
        /// order currency
        /// </summary>
        [JsonPropertyName("currency")]
        [JsonConverter(typeof(JsonStringEnumConverter))]
        public CurrencyType Currency { get; set; }
        /// <summary>
        /// order amount
        /// </summary>
        [JsonPropertyName("totalFee")]
        [JsonConverter(typeof(CustomDoubleConverter))]
        public double TotalFee { get; set; }
        /// <summary>
        /// product name
        /// </summary>
        [JsonPropertyName("productName")]
        public string ProductName { get; set; }
        /// <summary>
        /// product detail
        /// </summary>
        [JsonPropertyName("productDetail")]
        public string ProductDetail { get; set; }
        /// <summary>
        /// Consumer unique id
        /// </summary>
        [JsonPropertyName("openUserId")]
        public string OpenUserId { get; set; }
        /// <summary>
        /// Timestamp when transaction happened
        /// </summary>
        [JsonPropertyName("transactTime")]
        [JsonConverter(typeof(DateTimeOffsetFromMillisecondsConverter))]
        public DateTimeOffset TransactTime { get; set; }
        /// <summary>
        /// Timestamp when order was created
        /// </summary>
        [JsonPropertyName("createTime")]
        [JsonConverter(typeof(DateTimeOffsetFromMillisecondsConverter))]
        public DateTimeOffset CreateTime { get; set; }
        /// <summary>
        /// only merchant got approved by Binance Operation's approval will receive this payerInfo
        /// </summary>
        [JsonPropertyName("payerInfo")]
        public PayerInfo PayerInfo { get; set; }

    }

    public class PayerInfo
    {
        /// <summary>
        /// first name
        /// </summary>
        [JsonPropertyName("firstName")] 
        public string FirstName { get; set; }
        /// <summary>
        /// middle name
        /// </summary>
        [JsonPropertyName("middleName")] 
        public string MiddleName { get; set; }
        /// <summary>
        /// last name
        /// </summary>
        [JsonPropertyName("lastName")] 
        public string LastName { get; set; }
        /// <summary>
        /// wallet id
        /// </summary>
        [JsonPropertyName("walletId")] 
        public string WalletId { get; set; }
        /// <summary>
        /// residential country
        /// </summary>
        [JsonPropertyName("country")] 
        public string Country { get; set; }
        /// <summary>
        /// residential city
        /// </summary>
        [JsonPropertyName("city")] 
        public string City { get; set; }
        /// <summary>
        /// residential address
        /// </summary>
        [JsonPropertyName("address")] 
        public string Address { get; set; }
        /// <summary>
        /// identity type
        /// </summary>
        [JsonPropertyName("identityType")] 
        public string IdentityType { get; set; }
        /// <summary>
        /// identify number
        /// </summary>
        [JsonPropertyName("identityNumber")] 
        public string IdentityNumber { get; set; }
        /// <summary>
        /// date of birth
        /// </summary>
        [JsonPropertyName("dateOfBirth")] 
        public string DateOfBirth { get; set; }
        /// <summary>
        /// original place of birth
        /// </summary>
        [JsonPropertyName("placeOfBirth")] 
        public string PlaceOfBirth { get; set; }
        /// <summary>
        /// payer nationality
        /// </summary>
        [JsonPropertyName("nationality")] 
        public string Nationality { get; set; }
    }
}